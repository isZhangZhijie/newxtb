<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no">
  <title>首页</title>

  <meta name="keywords" content="">
  <meta name="description" content="">


  <script src="../src/plugin/jquery-3.3.1.min.js"></script>
  <!-- <script src="../src/plugin/flexible.js"></script> -->


  <link href="../src/plugin/amazeui/css/amazeui.min.css" rel="stylesheet">
  <script src="../src/plugin/amazeui/js/amazeui.min.js"></script>


  <link href="../src/plugin/swiper/swiper.min.css" rel="stylesheet">
  <script src="../src/plugin/swiper/swiper.min.js"></script>

  <link rel="stylesheet" href="../src/style/global.css">
  <script src="../src/js/rem.js"></script>


</head>
<body>
  <!-- 请柬首页内容 start -->
  <div class="xtb-index">
    <!-- 顶部轮播 start -->
    <div class="index-header">
      <div class="xtb-header color-header">
        <span class="header-item header-left">
          <a href=""><img src="../src/images/index_logo.png" alt=""></a>
        </span>
        <span class="header-item header-right">
          <a href=""><img src="../src/images/serch2-small.png" alt=""><span>全部分类</span></a>
        </span>
      </div>
      <div class="header-slide xtb-m-container">
        <div class="swiper-container" id="index-header-slider">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <a href="" class="img-box"><img src="../src/images/index-top-ad.png" alt=""></a>
            </div>
            <div class="swiper-slide">
              <a href="" class="img-box"><img src="../src/images/index-top-ad.png" alt=""></a>
            </div>
            <div class="swiper-slide">
              <a href="" class="img-box"><img src="../src/images/index-top-ad.png" alt=""></a>
            </div>
          </div>
          <!-- 分页器 -->
          <div class="swiper-pagination"></div>
          <!-- 白色边框 -->
          <div class="white-border"></div>
        </div>
      </div>
    </div>
    <!-- 顶部轮播 end -->

    <!-- 精选模板 -->
    <div class="index-item">
      <h2><a href="">精选模板<i></i></a></h2>
      <p class="item-desc">百万设计师，精心推荐</p>
      <div class="invit-template-slide">
        <div class="swiper-container gallery-thumbs">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <a href="" class="img-box"><img src="../src/images/1ld7rcc.jpg" alt=""><span>免费</span></a>
            </div>
            <div class="swiper-slide">
              <a href="" class="img-box"><img src="../src/images/1ld7rcc.jpg" alt=""><span>免费</span></a>
            </div>
            <div class="swiper-slide">
              <a href="" class="img-box"><img src="../src/images/1ld7rcc.jpg" alt=""><span>免费</span></a>
            </div>
            <div class="swiper-slide">
              <a href="" class="img-box"><img src="../src/images/1ld7rcc.jpg" alt=""><span>免费</span></a>
            </div>
          </div>

          <div class="invit-template-slide-pagination swiper-pagination"></div>
        </div>
      </div>
    </div>

    <!-- 推荐专题 -->
    <div class="index-item">
      <h2><a href="">推荐专题<i></i></a></h2>
      <p class="item-desc"></p>
      <div class="item-scroll zhuanti-scroll swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic1.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic2.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic3.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic4.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic5.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic6.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic7.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic8.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href=""><img src="../src/images/index_topic9.png" alt=""></a>
          </div>
        </div>
      </div>
    </div>

    <!-- 请柬 -->
    <div class="index-item">
      <h2><a href="">邀请函<i></i></a></h2>
      <p class="item-desc">您有一封免费邀请函，请注意查收</p>
      <div class="item-scroll invit-scroll swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <a href="">
              <div class="">
                <img src="../src/images/1ld7rcc.jpg" alt="">
                <span>免费</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <div class="">
                <img src="../src/images/1ld7rcc.jpg" alt="">
                <span>免费</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <div class="">
                <img src="../src/images/1ld7rcc.jpg" alt="">
                <span>免费</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <div class="">
                <img src="../src/images/1ld7rcc.jpg" alt="">
                <span>免费</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <div class="">
                <img src="../src/images/1ld7rcc.jpg" alt="">
                <span>免费</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- 推荐专题 -->
    <div class="index-item">
      <h2><a href="">黑科技推荐<i></i></a></h2>
      <p class="item-desc">AI智能一键生成请柬，大数据力助结婚管理</p>
      <div class="item-scroll zhuanti-scroll swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <a href="javascript:;" data-am-modal="{target: '#mini-pro-qr-code1'}"><img src="../src/images/index_XCX1.png" alt=""></a>
          </div>
          <div class="swiper-slide">
            <a href="javascript:;" data-am-modal="{target: '#mini-pro-qr-code2'}"><img src="../src/images/index_XCX2.png" alt=""></a>
          </div>
        </div>
      </div>

      <div class="mini-pro-qr-code am-modal am-modal-no-btn" tabindex="-1" id="mini-pro-qr-code1">
        <div class="am-modal-dialog">
          <img src="../src/images/qr-code-jiqiren.png" alt="">
          <span class="close-qr-code am-icon-close am-icon-md" data-am-modal-close></span>
        </div>
      </div>
      <div class="mini-pro-qr-code am-modal am-modal-no-btn" tabindex="-1" id="mini-pro-qr-code2">
        <div class="am-modal-dialog">
          <img src="../src/images/qr-code-gongju.png" alt="">
          <span class="close-qr-code am-icon-close am-icon-md" data-am-modal-close></span>
        </div>
      </div>
    </div>

    <!-- 喜帖说 -->
    <div class="index-item">
      <h2><a href="">喜帖说<i></i></a></h2>
      <p class="item-desc"></p>
      <div class="item-scroll article-scroll swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <a href="">
              <div class="img-box">
                <img src="../src/images/example.jpg" alt="">
                <div class="shadow"></div>
                <span>14亿人 阅读</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <div class="img-box">
                <img src="../src/images/example.jpg" alt="">
                <div class="shadow"></div>
                <span>14亿人 阅读</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <div class="img-box">
                <img src="../src/images/example.jpg" alt="">
                <div class="shadow"></div>
                <span>14亿人 阅读</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="">
              <div class="img-box">
                <img src="../src/images/example.jpg" alt="">
                <div class="shadow"></div>
                <span>14亿人 阅读</span>
              </div>
              <p class="xtb-3dots">霜降霜降霜降霜降霜降霜降霜降霜降</p>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- 首页底部提示 start -->
    <div class="index-item index-tips">
      <p>没找到心仪的请柬</p>
      <h2>去全部请柬逛逛</h2>
      <a href="" class="go-invit-list">立即查看</a>
      <a href="javascript:;" class="help-btn" data-am-modal="{target: '#service-box'}"><img src="../src/images/kefu.png" alt=""></a>
    </div>
    <!-- 首页底部提示 end -->
    <!-- 常见问题弹框 start -->
    <div class="service-box am-modal am-modal-no-btn" tabindex="-1" id="service-box">
      <div class="am-modal-dialog">
        <div class="service-title">
          <img src="../src/images/kefu-wenhao.png" alt="">
          常见问题
        </div>
        <div class="problem-box">
          <ul class="problem-list"></ul>
          <div class="show-problem"></div>
        </div>
        <div class="problem-tips">
          <a class="other-problem" href="javascript:;"></a>
          <a class="go-rengong" href="javascript:;">无法解决，转人工服务<img src="../src/images/kefu-touxiang.png" alt=""></a>
        </div>
        <div class="video-teaching">
          <img src="../src/images/kefu-teach.png" alt="">
          <span>视屏教学--极速上手做请柬</span>
        </div>
        <span class="close-service-box am-icon-close am-icon-md" data-am-modal-close></span>
      </div>

      <script type="text/javascript" src="../src/plugin/ckplayer/ckplayer.js"></script>
      <div id="video" style="width:600px;height:400px;"></div>
      <script type="text/javascript">
        var videoObject = {
          container: '#video',
          variable: 'player',//该属性必需设置，值等于下面的new chplayer()的对象
          flashplayer: false,//如果强制使用flashplayer则设置成true
          video:'https://www.xitieba.com/video/YS_MobileVedio.mp4'//视频地址
        };
        var player=new ckplayer(videoObject);
      </script>
    </div>
    <!-- 常见问题弹框 end -->


    <!-- 公共底部导航 start -->
    <div class="footer">
      <ul>
        <li class="active">
          <a href="">
            <i></i>
            <span>电子请柬</span>
          </a>
        </li>
        <li>
          <a href="">
            <i></i>
            <span>新手教程</span>
          </a>
        </li>
        <li>
          <a href="">
            <i></i>
            <span>咨询百科</span>
          </a>
        </li>
        <li>
          <a href="">
            <i></i>
            <span>个人中心</span>
          </a>
        </li>
      </ul>
    </div>
    <!-- 公共底部导航 end -->



  </div>
  <!-- 请柬首页内容 end -->

  <script>
    var indexSwiper = new Swiper ('#index-header-slider', {
      autoplay: {
        disableOnInteraction: false,
      },
      loop: true, // 循环模式选项
      // 如果需要分页器
      pagination: {
        el: '.swiper-pagination',
      },
    })

    var invitTemplateSlide = new Swiper('.invit-template-slide .gallery-thumbs', {
      // autoplay:true,
      pagination: {
        el: '.invit-template-slide-pagination',
        clickable: false,
        renderBullet: function (index, className) {
          var invitText = ['高端森系夏季清新婚礼邀请函结婚请柬','甜美浪漫小清新婚礼邀请函','水彩唯美简约婚礼邀请函相册通用','浪漫婚礼邀请函 婚礼请柬  婚礼']
          return `<span class="${className}"><h2>${invitText[index]}</h2><p>#123</p></span>`;
        },
      },
      loop: true,
      // 设置为true则点击slide会过渡到这个slide。
      // slideToClickedSlide: true,
      // 设置slider容器能够同时显示的slides数量
      slidesPerView: "auto",
      watchSlidesProgress: true,
      resistanceRatio: 1,

      on: {
        // 当Swiper的progress被改变时执行
        // 只要移动，progress就会改变
        progress: function(b) {
          // console.log(this.slides)
          for (var i = 0; i < this.slides.length; i++) {
            var slide = this.slides.eq(i)
            var slideProgress = this.slides[i].progress;
            var prevIndent = 4 == i ? .3228 : .0898;
            var scale = Math.abs(slideProgress + prevIndent) < 1 ? (1 - Math.abs(slideProgress + prevIndent)) * .1 + 1 : 1;
            slide.find("a").transform("scale3d(" + scale + "," + scale + ",1)");
          }

        },
        // 回调函数，每当设置Swiper开始过渡动画时执行
        // 触摸开始移动时，释放时，自动开始移动时，自动移动停止时，触发
        // 触发时，若将自动移动，则获取到移动时间，即下面的speed，默认情况300，其他0
        setTransition: function(speed) {
          // console.log(speed)
          for (var a = 0; a < this.slides.length; a++) {
            // 释放时，大小平缓过度
            this.slides.eq(a).find("a").transition(speed)
          }
        },
      }
    });


    $('.item-scroll').each(function(key, val){
      new Swiper(val, {
        slidesPerView: 'auto',
        freeMode: true,
      });
    })


    // 常见问题弹框数据请求
    $.ajax({
      type: "get",
      url: "https://m.xitieba.com/customer/question",
      success: function(msg){
        var problemList = ''
        msg.forEach(function(val, key) {
          problemList += `<li>${key+1}.${val.title}</li>`
        })
        $('.problem-list').html(problemList).click(function(e) {
          var _this = $(this)
          var target = $(e.target)
          if(target.is('li')) {
            $('.other-problem').text('其他问题')
            var index = target.index()
            var showProblem = `
              <h2 class="problem-title">${msg[index].title}</h2>
              <p>${msg[index].description}</p>
              <a href="https://www.xitieba.com/${msg[index].path}" class="xtb-3dots" target="_blank">详细阅读原文</a>`
            _this.hide()
            $('.show-problem').show().html(showProblem)
          }
        })
      }
    });
    $('.other-problem').click(function() {
      $('.show-problem').hide()
      $('.problem-list').show()
      $('.other-problem').text('')
    })
    
  </script>
</body>
</html>